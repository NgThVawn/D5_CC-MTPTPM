@model WedBanHang.Models.Product
@{
    ViewData["Title"] = "Xoá sản phẩm";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<style>
    .product-summary {
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 1.5rem;
        background-color: #f8f9fa;
    }

        .product-summary img {
            width: 100%;
            max-width: 150px;
            border-radius: 6px;
            object-fit: cover;
            border: 1px solid #ccc;
        }

    h2 {
        font-weight: bold;
    }

    .danger-zone {
        background: #fff3f3;
        border-left: 4px solid #dc3545;
        padding: 1rem 1.25rem;
        border-radius: 0.5rem;
        margin-top: 1.5rem;
    }
</style>

<div class="container py-5">
    <h2><i class="fa-solid fa-trash text-danger me-2"></i>Xoá sản phẩm</h2>

    <div class="product-summary mt-4">
        <div class="row g-4 align-items-center">
            <div class="col-md-3">
                @if (Model.Images != null && Model.Images.Any())
                {
                    <img src="@Model.Images.First().Url" alt="Ảnh sản phẩm" />
                }
                else
                {
                    <p class="text-muted fst-italic">Không có ảnh</p>
                }
            </div>

            <div class="col-md-9">
                <h4 class="text-primary fw-bold">@Model.Name</h4>
                <p><strong>Giá:</strong> <span class="text-success">@Model.Price.ToString("N0") ₫</span></p>
                <p><strong>Danh mục:</strong> @Model.Category?.Name</p>
                <p><strong>Tồn kho:</strong> @Model.StockQuantity</p>
                <p>
                    <strong>Trạng thái:</strong>
                    @if (Model.IsAvailable)
                    {
                        <span class="badge bg-success">Đang hoạt động</span>
                    }
                    else if (Model.StockQuantity == 0)
                    {
                        <span class="badge bg-danger">Hết hàng</span>
                    }
                    else
                    {
                        <span class="badge bg-secondary">Không khả dụng</span>
                    }
                </p>
            </div>
        </div>
    </div>

    <div class="danger-zone mt-4">
        <form asp-action="DeleteConfirmed" method="post">
            <input type="hidden" asp-for="Id" />
            <p class="mb-3"><strong class="text-danger">Bạn có chắc chắn muốn xoá sản phẩm "<span class="text-dark">@Model.Name</span>" này không?</strong></p>
            <div class="d-flex gap-2">
                <a asp-action="Index" class="btn btn-secondary">
                    <i class="fa-solid fa-arrow-left me-1"></i> Huỷ
                </a>
                <button type="submit" class="btn btn-danger">
                    <i class="fa-solid fa-trash me-1"></i> Xoá ngay
                </button>
            </div>
        </form>
    </div>
</div>
